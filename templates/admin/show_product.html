<!-- admin/show_product.html -->
{% extends "admin/admin_dsh.html" %}
{% block main %}
<h1>Product List</h1>
<table class="table">
    <thead>
        <tr>
            <th>Product Name</th>
            <th>Category</th>
            <th>Brand</th>
            <th>Image</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        {% for product in products %}
        <tr>
            <td>{{ product.title }}</td>
            <td>{{ product.category }}</td>
            <td>{{ product.brand }}</td>
            <td>
                {% if product.image1 %}
                <img src="{{ product.image1.url }}" alt="{{ product.title }} Image" style="width: auto; height: 50px;">
                {% else %}
                No Image
                {% endif %}
            </td>
            <td>
                <a href="{% url 'admin_view_product' product.id %}" class="btn btn-success">View</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<p><a href="{% url 'add_product' %}" class="btn btn-success">Add Product</a></p>
<br>
<script>
    {% if messages %}
    document.addEventListener('DOMContentLoaded', function () {
        {% for message in messages %}
        Swal.fire({
            icon: '{{ message.tags }}',
            title: '{{ message }}',
        });
        {% endfor %}
    });
    {% endif %}
</script>

{% endblock main %}